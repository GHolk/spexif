
http = require 'http'
url = require 'url'

start = (route, portNumber) ->
    (http.createServer (req, res) ->
        requestUrl = url.parse req.url
        switch req.method
            when 'GET'
                route res, requestUrl.pathname, requestUrl.query
            else
                route res, 'error'
    ).listen portNumber

exports.start = start

