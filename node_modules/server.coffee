
http = require 'http'
url = require 'url'

start = (route, portNumber) ->
    (http.createServer (req, res) ->
        requestUrl = url.parse req.url
        switch req.method
            when 'GET'
                console.log "\nGET #{requestUrl.pathname}"
                route res, requestUrl.pathname, requestUrl.query
            else
                console.log "not support method, route error. "
                route res, 'error'
    ).listen portNumber

exports.start = start

