// Generated by CoffeeScript 1.12.1
(function() {
  var http, start, url;

  http = require('http');

  url = require('url');

  start = function(route, portNumber) {
    return (http.createServer(function(req, res) {
      var requestUrl;
      requestUrl = url.parse(req.url);
      switch (req.method) {
        case 'GET':
          console.log("\nGET " + requestUrl.pathname);
          return route(res, requestUrl.pathname, requestUrl.query);
        default:
          console.log("not support method, route error. ");
          return route(res, 'error');
      }
    })).listen(portNumber);
  };

  exports.start = start;

}).call(this);
