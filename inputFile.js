// Generated by CoffeeScript 1.12.1
(function() {
  var CacheImage, webFile, whenInputFiles;

  window.imageList = [];

  webFile = {
    read: function(file, callback) {
      var reader;
      reader = new FileReader();
      reader.onload = callback;
      return reader.readAsDataURL(file);
    },
    newCacheImage: function(evt) {
      var dataURL, image;
      dataURL = evt.target.result;
      image = new CacheImage(dataURL);
      image.createHTMLTag();
      return document.body.appendChild(image.HTMLTag);
    }
  };

  CacheImage = (function() {
    function CacheImage(dataURL) {
      this.dataURL = dataURL;
      window.imageList.push(this.createHTMLTag());
    }

    CacheImage.prototype.createHTMLTag = function() {
      var imageTag;
      imageTag = document.createElement('img');
      imageTag.src = this.dataURL;
      return this.HTMLTag = imageTag;
    };

    return CacheImage;

  })();

  whenInputFiles = function(evt) {
    var file, files, i, len, results;
    files = evt.target.files;
    results = [];
    for (i = 0, len = files.length; i < len; i++) {
      file = files[i];
      results.push(webFile.read(file, webFile.newCacheImage));
    }
    return results;
  };

  (document.getElementsByTagName('input'))[0].addEventListener('change', whenInputFiles, true);

}).call(this);
